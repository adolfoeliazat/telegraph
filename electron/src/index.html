<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
    <title>Telegraph-Electron</title>
  </head>

  <body>
    <div class="container">
      <div class="panel panel-default">
        <div class="panel-body">
          <form>
            <div class="form-group">
              <label for="postMessage">What Would You Like To Say?</label>
              <textarea class="form-control" id="postMessage" rows="3"></textarea>
            </div>
            <button type="button" class="btn btn-primary" id="addButton">Add message</button>
          </form>
        </div>
        <div class="panel-footer">
          <span class="h4">
            <span id="onlineState" class="pull-right label label-success"><span class="glyphicon glyphicon-transfer"></span>  Online</span>
          </span>
          <button class="btn btn-info" id="syncButton"><span class="glyphicon glyphicon-refresh"></span> Sync</button>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-body">
          <ul class="list-group" id="messageList"></ul>
        </div>
      </div>
    </div>
    <script>
      const path = require('path');
      const url = require('url');
      const App = require('../../src/app');
      let swScope = path.join(__dirname, '/');
      let swPath = url.format({
        pathname: path.join(__dirname, 'service-worker.js'),
        protocol: 'file:',
        slashes: true
      });
      let app = new App();
      app.setup(swPath, swScope);
      console.log(`swPath: ${swPath}, swScope: ${swScope}`);
    </script>
  </body>
</html>
